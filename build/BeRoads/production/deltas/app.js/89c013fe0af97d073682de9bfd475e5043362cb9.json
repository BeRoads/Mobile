["/*6f1ca59baef599d8098d6c805ba2eb0695e69920",42,529404,"\"\"",529485,307,"\"\"",529835,209,"\"\"",529835,34,530120,252,"\"\"",530415,305,"\"\",instructions:\"\"",530833,172,"\"\",maxLength:10,value:0",531093,66,"\"\"",531203,128,"\"nl\"",531359,195,"true",531359,36,531630,150,"true",531359,36,531855,153,"true",532048,48,"\"\"",532138,866,"\"\"",534559,39,535712,248,533330,122,"\"\"",533495,147,"\"\"",533684,135,"\"\"",535352,80,533942,578,"\"\"",534559,411,"\"\"",533495,112,"d:\"radarsView\",title:\"\"",535188,121,"\"\"",535352,931,"\"\"",540461,936,537258,219,"\"\"",537516,1776,"\"\"},{id:\"trafficButton\",text:\"\"},{id:\"radarsButton\",text:\"\"},{id:\"webcamsButton\",text:\"\"}],left:1}",542462,38,537273,83,513726,46,535577,706,"\"\"",540461,931,552420,457,551296,379,545422,127,546301,238,"Socket\",{extend:Ext.app.Controller,host:\"ws://0.0.0.0:8080/socket\",socket:null,ack:0,config:{stores:[\"offline.TrafficEvent\",\"offline.Radar\",\"offline.Webcam",569652,39,"var a=this;this.socket=new WebSocket(this.host);this.socket.onopen=function(){console.log(\"Socket Status: \"+a.socket.readyState+\" (open)\")};this.socket.onmessage=function(e){var c=JSON.parse(e.data);if(c.code==2){a.socket.uuid=c.uuid;a.ack--}if(c.code==3){var d",560543,37,".add(c.data)[0];",560544,36,".sort(\"distance\",\"ASC\");",560544,36,".sync();var b=new google.maps.LatLng(c.data.lat,c.data.lng);BeRoads.app",564559,37,"a.getProfile()+\".Map\").addTrafficEvent(c.data,b)}};this.socket.onclose=function(){console.log(\"Socket Status: \"+a.socket.readyState+\" (Closed)\")}",562800,409,"if(Ext.os.is.Desktop){a=\"desktop\"}else{a=\"portraitphone\"}}}}}return a},subscribe:function(){var b=this;if(this.socket.readyState!=1){throw\"Can't subscribe if the websocket is closed.\"}if(this.socket.uuid==undefined||this.socket.uuid==null){throw\"Can't subscribe if there is no valid subscription.\"}if(this.ack>0){setTimeout(function(){b.subscribe()},1000)}else{var a={code:1,coords:BeRoads.app.user_coords.coords",553532,34,",language:localStorage.getItem(\"lang\")};console.log(\"Subscribing...\");console.log(a);this.ack++;this.socket.send(JSON.stringify(a))}},update:function(){var b=this;if(this.socket.readyState!=1){throw\"Can't subscribe if the websocket is closed.\"}if(this.socket.uuid==undefined||this.socket.uuid==null){throw\"Can't subscribe if there is no valid subscription.\"}if(this.ack>0){setTimeout(function(){b.update()},1000)}else{var a={code:1,coords:BeRoads.app.user_coords.coords",553532,34,",language:localStorage.getItem(\"lang\")};console.log(\"Updating...\");console.log(a);this.ack++;this.socket.send(JSON.stringify(a))}",542463,37,575599,67,541472,3950,"store.on",546303,98,545648,646,546525,273,567216,62,546970,661,547696,693,567216,62,548560,544,"},loadRadar",588687,84,549264,521,549835,74,549975,799,588668,457,551675,745,552877,1351,548432,54,555791,32,"Traffic\")",554800,44,555133,301,554774,1523,556490,792,557692,72,556576,38,557577,532,558526,74,556576,38,558408,490,"addRadar:function(c,a){var b=this",559436,48,"c.id,map:this.map,position:a,title:c",559135,37,"Radar",588957,38,"Speed Limit : '+c",559614,86,"this.markers.radars[b-1],\"click\",function(){showCenteredOverlay(this.markers.radars[b-1])})},addWebcam:function(c,a){var b=this",559053,49,"c.id,map:this.map,position:a,title:c",559135,39,"c",547967,56,559231,76,"this.markers.webcams[b-1],\"click\",function(){showCenteredOverlay(this.markers.webcams[b-1])})},addTrafficEvent:function(b,a){if(b.category!=undefined&&b.category!=null){b.category=b",559851,44,"c=this",559898,55,"b.id,map:this.map,position:a,title:b",559986,43,"b",560030,51,"b",560082,41,"b",560124,50,"this.markers.trafficevents[c-1],\"click\",function(){showCenteredOverlay(this.markers.trafficevents[c-1])})}},renderTrafficMap:function(e,a,g){var h=this;h.map=a;var i=function(k){h.getInfoPanel().setHtml(k.html);h.getInfoPanel().show()};var b",560294,106,"h",560401,42,"h.map,position:b",560459,83,"d",560543,38,"d.each(function(l){if(l.data.lng!=0&&l.data.lat!=0){var k=new google.maps.LatLng(l.data.lat,l.data.lng);h.addTrafficEvent(l.data,k",560895,37,"Radars\")==1){var j=Ext.getStore(\"offline.Radar\");j.each(function(l){if(l.data.lng!=0&&l.data.lat!=0){var k=new google.maps.LatLng(l.data.lat,l.data.lng);h.addRadar(l.data,k",560895,55,592601,35,"each(function(l){if(l.data.lng!=0&&l.data.lat!=0){var k=new google.maps.LatLng(l.data.lat,l.data.lng);h.addWebcam(l.data,k)}})}h.map.setCenter(b);var c=h",561128,59,"l){if(getDistance(l.coords.latitude,l.coords.longitude,c.getPosition().lat(),c.getPosition().lng())>0.1){var k=new google.maps.LatLng(l.coords.latitude,l.coords.longitude);c.setPosition(k);h.map.setCenter(k)}}",549392,36,561432,586,"updateLanguage(",572608,63,562074,682,562801,408,"if(Ext.os.is.Desktop){a=\"desktop\"}else{a=\"portraitphone\"}",563226,40,563751,105,563437,148,"Lang().setValue(",548522,38,563585,66,"Area().setValue(localStorage.getItem(\"area\"",563640,80,";this.getDisplayRadars().setValue",560702,38,");this.getDisplayTraffic().setValue",560494,39,");this.getDisplayWebcams().setValue",558240,39,563719,37,"updateLanguage();",578857,33,563881,179,"app",564559,62,564121,188,"app",564559,62,564370,190,"app",564559,168,"app",565263,41,"Map\").updateMapArea(\"area\");BeRoads.app",564559,35,"WebSocket\").update(",564793,89,"this.getApplication()",565263,41,"Main\").updateLanguage();this.getApplication()",565263,41,"Map\").updateLanguage();this.getApplication()",565263,41,"Radars\").updateLanguage();this.getApplication()",565263,41,"Settings\").updateLanguage();this.getApplication()",565263,41,565223,33,"this.getApplication()",565263,67,";BeRoads.app",564559,35,"WebSocket\").updat",565327,74,"updateLanguage",565393,518,566656,43,575599,75,570745,290,566362,835,"tabpanel:{show:\"updateLanguage",586960,75,571950,721,567991,2009,"updateLanguage(",572608,63,565983,40,570096,479,571006,44,575599,67,570736,1141,"tabpanel:{show:\"updateLanguage",586960,75,571950,1062,586655,44,568367,164,573285,142,586655,44,573536,414,582288,72,582488,73,574160,765,"updateLanguage(",572608,78,589802,129,"Phone",583452,40,575170,334,576336,44,575599,5271,550176,39,580974,491,566959,43,588207,243,581816,407,582288,725,548432,34,561884,134,"updateLanguage(",572608,63,575584,41,583344,482,584462,45,575599,67,589136,37,541501,235,584261,2774,547696,440,587540,334,"},loadRadar",588687,84,549264,164,588198,405,588668,1062,"updateLanguage(",572608,72,583311,127,589922,391,590365,322,"controllers:[\"WebSocke",590683,877,556880,92,"b",555599,119,591664,2060,593749,503,"    ",594111,37,"Radars",594014,44,"Radar",594205,40,594384,1076,";BeRoads.app.getController(\"WebSocket\").subscribe()}}};",594778,33,"});"]