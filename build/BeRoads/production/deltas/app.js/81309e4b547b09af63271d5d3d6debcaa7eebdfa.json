["/*6f1ca59baef599d8098d6c805ba2eb0695e69920",42,283530,"Ext.define(\"Ext.field.TextAreaInput\",{extend:Ext.field.Input,xtype:\"textareainput\",tag:\"textarea\"});Ext.define(\"Ext.field.TextArea",469961,32,"textarea",469999,36,"TextArea\",config:{ui:\"textarea\",autoCapitalize:false,component:{xtype:\"textareainput\"},maxRows:null",276283,33,"getComponent().setMaxRows(a)},doSetHeight",264941,40,"var b=this.getComponent();b.input.setHeight(a)},doSetWidth:function(b",467262,33,"a=this.getComponent();a.input.setWidth(b)},doKeyUp:function(a){var b=a.getValue();a[b",283449,36,"});Ext.define(\"Ext.MessageBox\",{extend:Ext.Sheet,config:{ui:\"dark\",baseCls:Ext.baseCSSPrefix+\"msgbox\",iconCls:null,showAnimation:{type:\"pop",247990,35,",hideAnimation:{type:\"popOut",247992,33,",zIndex:999,defaultTextHeight:75,title:null,buttons:null,message:null,prompt:null,modal:true,layout:{type:\"vbox\",pack:\"center\"}},statics:{OK:{text:\"OK\",itemId:\"ok\",ui:\"action\"},YES:{text:\"Yes\",itemId:\"yes\",ui:\"action\"},NO:{text:\"No\",itemId:\"no\"},CANCEL:{text:\"Cancel\",itemId:\"cancel\"},INFO:Ext.baseCSSPrefix+\"msgbox-info\",WARNING:Ext.baseCSSPrefix+\"msgbox-warning\",QUESTION:Ext.baseCSSPrefix+\"msgbox-question\",ERROR:Ext.baseCSSPrefix+\"msgbox-error\",OKCANCEL:[{text:\"Cancel\",itemId:\"cancel\"},{text:\"OK\",itemId:\"ok\",ui:\"action\"}],YESNOCANCEL:[{text:\"Cancel\",itemId:\"cancel\"},{text:\"No\",itemId:\"no\"},{text:\"Yes\",itemId:\"yes\",ui:\"action\"}],YESNO:[{text:\"No\",itemId:\"no\"},{text:\"Yes\",itemId:\"yes\",ui:\"action\"}]",272252,37,"a.hasOwnProperty(\"promptConfig\")){Ext.applyIf(a,{prompt:a.promptConfig});delete a.promptConfig}if(a.hasOwnProperty(\"multiline\")||a.hasOwnProperty(\"multiLine\")){a.prompt=a.prompt||{};Ext.applyIf(a.prompt,{multiLine:a.multiline||a.multiLine});delete a.multiline;delete a.multiLine}this.defaultAllowedConfig={};var e=[\"ui\",\"showAnimation\",\"hideAnimation\",\"title\",\"message\",\"prompt\",\"iconCls\",\"buttons\",\"defaultTextHeight\"]",422260,40,"this.defaultAllowedConfig[c]=this.defaultConfig[c]",272661,79,"}}Ext.applyIf(a,{docked:\"top\",minHeight:\"1.3em\",c",484239,58,"oolbar",272786,40,"a){if(a){this.add(a)}},updateButtons:function(a){var b=this;if(a){if(b.buttonsToolbar){b.buttonsToolbar.removeAll();b.buttonsToolbar.setItems(a)}else{b.buttonsToolbar=Ext.create(\"Ext.Toolbar\",{docked:\"bottom\"",533976,36,"hbox\",pack:\"center\"},ui:b.getUi(),cls:b.getBaseCls()+\"-buttons\",items:a});b.add(b.buttonsToolbar)}}},applyMessage:function(a){a={html:a,cls:this.getBaseCls()+\"-text\"};",264127,34,",this._message)},updateMessage:function(a){if(a){this.add(a)}},getMessage:function(){if(this._message){return this._message.getHtml()}return null},applyIconCls:function(a){a={xtype:\"component\",docked:\"left\",width:40,height:40,baseCls:Ext.baseCSSPrefix+\"icon\",hidden:(a)?false:true,cls:a};",264127,34,",this._iconCls)},updateIconCls:function(a,b){var c=this;this.getTitle();this.getButtons();if(a){this.add(a)}else{this.remove(b)}},getIconCls:function(){var b=this._iconCls,a;if(b){a=b.getCls();return(a)?a[0]:null}return null},applyPrompt:function(a){if(a){var b={label:false};if(Ext.isObject(a)){Ext.apply(b,a)}if(b.multiLine){b.height=Ext.isNumber(b.multiLine)?parseFloat(b.multiLine):this.getDefaultTextHeight();return Ext.factory(b,Ext.field.TextArea,this.getPrompt())}else{return Ext.factory(b,Ext.field.Text,this.getPrompt())}}return a},updatePrompt",409427,33,"if(b){this.remove(b)}},onClick:function(c){if(c){var b=c.config.userConfig||{},d=c.getInitialConfig(),a=this.getPrompt();if(typeof b.fn==\"function\"){this.on({hiddenchange:function(){b.fn.call(b.scope||null,d.itemId||d.text,a?a.getValue():null,b)},single:true,scope:this})}if(b.input){b.input.dom.blur()}}this.hide()},show:function(f){if(!this.getParent()&&Ext.Viewport){Ext.Viewport.add(this)}if(!f){return this.callParent()}var b=Ext.Object.merge({},{value:\"\"},f);var e=f.buttons||Ext.MessageBox.OK||[],d=[],c=f;Ext.each(e,function(g){if(!g){return}d.push(Ext.apply({userConfig:c,scope:this,handler:\"onClick\"},g))},this);b.buttons=d;if(b.promptConfig){}b.prompt=(b.promptConfig||b.prompt)||null;if(b.multiLine){b.prompt=b.prompt||{};b.prompt.multiLine=b.multiLine;delete b.multiLine}b=Ext.merge({},this.defaultAllowedConfig,b);this.setConfig(b);var a=this.getPrompt();if(a){a.setValue(f.value||\"\")}this.callParent();return this},alert:function(d,c,b,a){return this.show({title:d||null,message:c||null,buttons:Ext.MessageBox.OK,promptConfig:false,fn:function(){if(b){b.apply(a,arguments)}},scope:a})},confirm:function(d,c,b,a){return this.show({title:d||null,message:c||null,buttons:Ext.MessageBox.YESNO,promptConfig:false,scope:a,fn:function(){if(b){b.apply(a,arguments)}}})},prompt:function(g,d,c,b,f,e,a){return this.show({title:g||null,message:d||null,buttons:Ext.MessageBox.OKCANCEL,scope:b,prompt:a||true,multiLine:f,value:e,fn:function(){if(c){c.apply(b,arguments)}}})}},function(a){Ext.onSetup(function(){Ext.Msg=new a})",283569,240632,"\"\"",524240,307,"\"\"",524590,209,"\"\"",524590,34,524875,252,"\"\"",525170,305,"\"\",instructions:\"\"",525588,172,"\"\",maxLength:10,value:0",525848,66,"\"\"",525958,128,"\"nl\"",526574,36,526150,159,"true",526574,36,526385,150,"true",526574,189,"true",526803,48,"\"\"",526893,866,"\"",530427,288,528085,122,"\"\"",528250,147,"\"\"",528439,135,"\"\"",530107,80,528697,578,"\"",530427,40,529353,372,"\"\"",528250,112,"d:\"radarsView\",title:\"\"",529943,121,"\"\"",530107,931,"\"\"",535244,86,535344,231,534911,36,535625,583,532041,219,"\"\"",532299,1776,"\"\"},{id:\"trafficButton\",text:\"\"},{id:\"radarsButton\",text:\"\"},{id:\"webcamsButton\",text:\"\"}],left:1}]}",536255,38,530205,833,"\"\"",535244,86,535344,231,534911,36,535625,578,546689,457,545835,379,540233,127,540840,238,"Socket\",{extend:Ext.app.Controller,host:\"ws://0.0.0.0:8080/socket\",socket:null,ack:0,config:{stores:[\"offline.TrafficEvent\",\"offline.Radar\",\"offline.Webcam",563612,39,"var a=this;this.socket=new WebSocket(this.host);this.socket.onopen=function(){console.log(\"Socket Status: \"+a.socket.readyState+\" (open)\")};this.socket.onmessage=function(e){var c=JSON.parse(e.data);if(c.code==2){a.socket.uuid=c.uuid;a.ack--}if(c.code==3){var d",554363,37,".add(c.data)[0];",554364,36,".sort(\"distance\",\"ASC\");",554364,36,".sync();var b=new google.maps.LatLng(c.data.lat,c.data.lng);BeRoads.app",559038,37,"a.getProfile()+\".Map\").addTrafficEvent(c.data,b)}};this.socket.onclose=function(){console.log(\"Socket Status: \"+a.socket.readyState+\" (Closed)\")}",556620,409,"if(Ext.os.is.Desktop){a=\"desktop\"}else{a=\"portraitphone\"}}}}}return a},subscribe:function(){var b=this;if(this.socket.readyState!=1){throw\"Can't subscribe if the websocket is closed.\"}if(this.socket.uuid==undefined||this.socket.uuid==null){throw\"Can't subscribe if there is no valid subscription.\"}if(this.ack>0){setTimeout(function(){b.subscribe()},1000)}else{var a={code:1,coords:BeRoads.app.user_coords.coords",547481,34,",language:localStorage.getItem(\"lang\")};console.log(\"Subscribing...\");console.log(a);this.ack++;this.socket.send(JSON.stringify(a))}},update:function(){var b=this;if(this.socket.readyState!=1){throw\"Can't subscribe if the websocket is closed.\"}if(this.socket.uuid==undefined||this.socket.uuid==null){throw\"Can't subscribe if there is no valid subscription.\"}if(this.ack>0){setTimeout(function(){b.update()},1000)}else{var a={code:1,coords:BeRoads.app.user_coords.coords",547481,34,",language:localStorage.getItem(\"lang\")};console.log(\"Updating...\");console.log(a);this.ack++;this.socket.send(JSON.stringify(a))}}",536255,36,577882,67,536283,3950,"store.on",540842,98,540459,95,547515,134,"Camera.item\"}}},init:function(){this.setProxy(",540479,80,"BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",547464,185,"Camera.item\"",555214,38,541075,262,565856,62,541509,661,542235,693,565856,62,543099,544,543708,616,544374,74,544514,799,582628,457,546214,197,547515,134,"Radar.item\"}}},init:function(){this.setProxy(",540479,48,"Radar.jsonp\",extraParams:{from:BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",547464,185,"Radar.item\"}})",546190,37,547159,249,547515,155,",init:function(){this.setProxy(",540479,48,550798,56,",extraParams:{from:BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",547464,205,555216,36,547704,472,565856,54,548336,227,"BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",549258,92,548706,501,"BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",549258,290,"BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",549599,294,"BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",586363,85,550029,152,550622,86,551407,38,"Traffic",551451,35,550540,350,"BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",550941,209,551560,72,551407,292,"BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",551750,211,552378,74,551407,38,552260,260,"BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",587165,85,552656,78,"addRadar:function(c,a){var b=this",553272,48,"c.id,map:this.map,position:a,title:c",552971,37,553390,59,"c",553450,86,"this.markers.radars[b-1],\"click\",function(){showCenteredOverlay(this.markers.radars[b-1])})},addWebcam:function(c,a){var b=this",552889,49,"c.id,map:this.map,position:a,title:c",552971,39,"c",542506,56,553067,76,"this.markers.webcams[b-1],\"click\",function(){showCenteredOverlay(this.markers.webcams[b-1])})},addTrafficEvent:function(b,a){if(b.category!=undefined&&b.category!=null){b.category=b",553687,44,"c=this",553734,55,"b.id,map:this.map,position:a,title:b",553822,43,"b",553866,51,"b",553918,41,"b",553960,50,"this.markers.trafficevents[c-1],\"click\",function(){showCenteredOverlay(this.markers.trafficevents[c-1])})}},renderTrafficMap:function(e,a,g){var h=this;h.map=a;var i=function(k){h.getInfoPanel().setHtml(k.html);h.getInfoPanel().show()};var b=new google.maps.LatLng(BeRoads.app.user_coords.coords.latitude,BeRoads.app.user_coords.coords.longitude);h",554221,42,"h.map,position:b",554279,83,"d",554363,38,"d.each(function(l){if(l.data.lng!=0&&l.data.lat!=0){var k=new google.maps.LatLng(l.data.lat,l.data.lng);h.addTrafficEvent(l.data,k",554715,37,"Radars\")==1){var j=Ext.getStore(\"offline.Radar\");j.each(function(l){if(l.data.lng!=0&&l.data.lat!=0){var k=new google.maps.LatLng(l.data.lat,l.data.lng);h.addRadar(l.data,k",554715,55,587287,35,"each(function(l){if(l.data.lng!=0&&l.data.lat!=0){var k=new google.maps.LatLng(l.data.lat,l.data.lng);h.addWebcam(l.data,k)}})}h.map.setCenter(b);var c=h",554948,59,"l){if(getDistance(l.coords.latitude,l.coords.longitude,c.getPosition().lat(),c.getPosition().lng())>0.1){var k=new google.maps.LatLng(l.coords.latitude,l.coords.longitude);c.setPosition(k);h.map.setCenter(k",555213,625,"updateLanguage(",561888,63,555894,682,556621,408,"if(Ext.os.is.Desktop){a=\"desktop\"}else{a=\"portraitphone\"}",557046,40,557152,253,"Lang().setValue(",541471,38,557405,66,"Area().setValue(localStorage.getItem(\"area\"",557460,80,";this.getDisplayRadars().setValue",551280,38,");this.getDisplayTraffic().setValue",584607,39,");this.getDisplayWebcams().setValue(",557808,39,557540,36,"updateLanguage(",557666,206,"BeRoads.app",559038,37,557930,205,"BeRoads.app",559038,37,558193,207,"BeRoads.app",559038,37,558458,123,"BeRoads.app",559038,41,"Map\").updateMapArea(\"area\");BeRoads.app",559038,35,"WebSocket\").update(",558669,621,";BeRoads.app",559038,35,"WebSocket\").updat",559287,74,"updateLanguage",559353,518,560816,43,577882,67,563418,35,564732,263,"portrait",565004,103,"portrait",565116,107,"portrait",565232,89,560645,512,"tabpanel:{show:\"updateLanguage",543568,75,561230,2730,"updateLanguage(",561888,77,564030,505,578192,38,564623,1214,"tabpanel:{show:\"updateLanguage",543568,75,561230,721,566631,341,538432,35,567072,315,538432,35,567487,423,563069,72,576448,73,565919,47,576542,79,568246,639,"updateLanguage(",561888,63,568941,523,570096,44,577882,67,569626,5204,543248,34,482895,32,576325,37,574998,427,538432,35,575525,658,563069,77,576325,648,563792,168,"updateLanguage(",577200,586,578192,45,577882,3113,542235,440,581500,334,543708,259,582158,405,582628,1062,"updateLanguage(",561888,63,577866,42,583788,485,"}});",585173,95,"user_coords:",584345,33,585267,178,"controllers:[\"WebSocke",585441,681,"BeRoads.app.user_coords.coords.latitude,BeRoads.app.user_coords",586169,49,"BeRoads.app.user_coords",586233,61,550764,92,"b",549515,33,"BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",586363,353,"BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",586767,347,"BeRoads.app.user_coords.coords.latitude+\",\"+BeRoads.app.user_coords",587165,355,"b){var a;switch(b.code){case b",587544,124,"a=",587936,35,"Ext.Viewport.add(a);break;case b",587760,131,"a=",587936,35,"Ext.Viewport.add(a);break;case b",587983,128,"a=",587936,35,"Ext.Viewport.add(a);break;case b",588203,187,"a=",587936,35,"Ext.Viewport.add(a);break}},launch:function(){",584379,503,"    \",1",554718,34,"Radar",584784,45,584969,208,588455,760,"Desktop",589221,146,";BeRoads.app.getController(\"WebSocket\").subscribe()}}};",588686,33,"});"]